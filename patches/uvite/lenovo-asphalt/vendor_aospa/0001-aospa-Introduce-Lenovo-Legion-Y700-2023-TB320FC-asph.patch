From e9bd1a0ac4bff363d1a108f79c568470b8f62718 Mon Sep 17 00:00:00 2001
From: Yurical <yurical1g@gmail.com>
Date: Wed, 6 Mar 2024 10:43:22 +0900
Subject: [PATCH] aospa: Introduce Lenovo Legion Y700 (2023) / TB320FC /
 asphalt

Change-Id: Ie263fbf044e8959a8b4fb1dd57e27fc0b9074447
---
 products/AndroidProducts.mk         |  2 ++
 products/asphalt/aospa.dependencies | 46 +++++++++++++++++++++++++++
 products/asphalt/aospa_asphalt.mk   | 49 +++++++++++++++++++++++++++++
 3 files changed, 97 insertions(+)
 create mode 100644 products/asphalt/aospa.dependencies
 create mode 100644 products/asphalt/aospa_asphalt.mk

diff --git a/products/AndroidProducts.mk b/products/AndroidProducts.mk
index 0c14675..f48f866 100644
--- a/products/AndroidProducts.mk
+++ b/products/AndroidProducts.mk
@@ -16,6 +16,7 @@
 PRODUCT_MAKEFILES += \
     $(LOCAL_DIR)/alioth/aospa_alioth.mk \
     $(LOCAL_DIR)/apollo/aospa_apollo.mk \
+    $(LOCAL_DIR)/asphalt/aospa_asphalt.mk \
     $(LOCAL_DIR)/beryllium/aospa_beryllium.mk \
     $(LOCAL_DIR)/bitra/aospa_bitra.mk \
     $(LOCAL_DIR)/bladerunner/aospa_bladerunner.mk \
@@ -63,6 +64,7 @@ PRODUCT_MAKEFILES += \
 COMMON_LUNCH_CHOICES += \
     aospa_alioth-userdebug \
     aospa_apollo-userdebug \
+    aospa_asphalt-userdebug \
     aospa_beryllium-userdebug \
     aospa_bitra-userdebug \
     aospa_bladerunner-userdebug \
diff --git a/products/asphalt/aospa.dependencies b/products/asphalt/aospa.dependencies
new file mode 100644
index 0000000..007c3fd
--- /dev/null
+++ b/products/asphalt/aospa.dependencies
@@ -0,0 +1,46 @@
+[
+    {
+        "remote":       "github-ssh",
+        "repository":   "yurical-backyard/android_device_lenovo_asphalt",
+        "target_path":  "device/lenovo/asphalt",
+        "revision":     "uvite"
+    },
+    {
+        "remote":       "github-ssh",
+        "repository":   "yurical-backyard/android_device_lenovo_asphalt-kernel",
+        "target_path":  "device/lenovo/asphalt-kernel",
+        "revision":     "uvite",
+        "clone-depth":  "1"
+    },
+    {
+        "remote":       "github-ssh",
+        "repository":   "yurical-backyard/proprietary_vendor_lenovo_asphalt",
+        "target_path":  "vendor/lenovo/asphalt",
+        "revision":     "uvite",
+        "clone-depth":  "1"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_hardware_qcom_audio",
+        "target_path":  "vendor/qcom/opensource/audio-hal/primary-hal",
+        "revision":     "uvite-8450"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_vendor_qcom_opensource_arpal-lx",
+        "target_path":  "vendor/qcom/opensource/pal",
+        "revision":     "uvite-8450"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_hardware_qcom_display",
+        "target_path":  "hardware/qcom/display",
+        "revision":     "uvite-8450"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_hardware_qcom_media",
+        "target_path":  "hardware/qcom/media",
+        "revision":     "uvite-8450"
+    }
+]
diff --git a/products/asphalt/aospa_asphalt.mk b/products/asphalt/aospa_asphalt.mk
new file mode 100644
index 0000000..50fdd01
--- /dev/null
+++ b/products/asphalt/aospa_asphalt.mk
@@ -0,0 +1,49 @@
+# Copyright (C) 2024 Paranoid Android
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#      http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+ifeq (aospa_asphalt,$(TARGET_PRODUCT))
+
+# Inherit from those products. Most specific first.
+$(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit_only.mk)
+$(call inherit-product, $(SRC_TARGET_DIR)/product/aosp_base.mk)
+
+# Inherit from the custom device configuration.
+$(call inherit-product, device/lenovo/asphalt/device.mk)
+
+# Inherit from the AOSPA configuration.
+TARGET_NO_TELEPHONY := true
+$(call inherit-product, vendor/aospa/target/product/aospa-target.mk)
+
+PRODUCT_BRAND := Lenovo
+PRODUCT_DEVICE := asphalt
+PRODUCT_MANUFACTURER := Lenovo
+PRODUCT_MODEL := TB320FC
+PRODUCT_NAME := aospa_asphalt
+
+PRODUCT_SYSTEM_NAME := TB320FC_PRC
+PRODUCT_SYSTEM_DEVICE := TB320FC
+
+PRODUCT_GMS_CLIENTID_BASE := android-lenovo
+
+PRODUCT_BUILD_PROP_OVERRIDES += \
+    TARGET_DEVICE=$(PRODUCT_SYSTEM_DEVICE) \
+    TARGET_PRODUCT=$(PRODUCT_SYSTEM_NAME) \
+    PRIVATE_BUILD_DESC="TB320FC_PRC-user 13 TKQ1.221114.001 TB320FC_CN_OPEN_USER_Q00031.0_T_ZUI_15.0.737_ST_240107 release-keys"
+
+BUILD_FINGERPRINT := "Lenovo/TB320FC_PRC/TB320FC:13/TKQ1.221114.001/ZUI_15.0.737_2401070359_PRC:user/release-keys"
+
+# Boot animation resolution.
+TARGET_BOOT_ANIMATION_RES := 1080
+
+endif
-- 
2.43.0

